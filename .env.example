# ===========================================
# SParking - Smart Parking Management System
# Environment Configuration
# ===========================================
# Copy this file to .env.local and fill in the values
# Generate secrets with: openssl rand -base64 32

# ===========================================
# REQUIRED - Application Core
# ===========================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=SParking

# Database (PostgreSQL) - REQUIRED
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL="postgresql://postgres:password@localhost:5432/sparking?schema=public"

# Authentication - REQUIRED (minimum 32 characters)
# Generate with: openssl rand -base64 32
JWT_SECRET="CHANGE_ME_generate_with_openssl_rand_base64_32"

# AI Pipeline Detection API Key - REQUIRED for detection endpoint
# Generate with: openssl rand -hex 32
DETECTION_API_KEY="CHANGE_ME_generate_with_openssl_rand_hex_32"

# ===========================================
# OPTIONAL - Features
# ===========================================

# WebSocket (Socket.IO)
NEXT_PUBLIC_SOCKET_URL=http://localhost:3000

# Session Management
MAX_SESSIONS_PER_USER=5

# CORS Configuration (comma-separated origins)
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# ===========================================
# OPTIONAL - Email Configuration
# ===========================================

# Email Provider: console (default), resend, sendgrid, smtp
EMAIL_PROVIDER=console
EMAIL_FROM=Sparking <noreply@sparking.app>

# SMTP Configuration (if EMAIL_PROVIDER=smtp)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@your-domain.com

# Resend (if EMAIL_PROVIDER=resend)
RESEND_API_KEY=your-resend-api-key

# SendGrid (if EMAIL_PROVIDER=sendgrid)
SENDGRID_API_KEY=your-sendgrid-api-key

# ===========================================
# OPTIONAL - SMS Gateway
# ===========================================

# SMS Provider: twilio, msg91
SMS_PROVIDER=twilio

# Twilio
TWILIO_ACCOUNT_SID=your-account-sid
TWILIO_AUTH_TOKEN=your-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# MSG91 (India)
MSG91_AUTH_KEY=your-msg91-auth-key
MSG91_SENDER_ID=SPARKN
MSG91_TEMPLATE_ID=your-template-id

# ===========================================
# OPTIONAL - Payment Gateway
# ===========================================

# Razorpay
RAZORPAY_KEY_ID=your-razorpay-key
RAZORPAY_KEY_SECRET=your-razorpay-secret
RAZORPAY_WEBHOOK_SECRET=your-webhook-secret

# Stripe
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# ===========================================
# OPTIONAL - File Storage
# ===========================================

# Storage Provider: local, s3
STORAGE_PROVIDER=local

# AWS S3 (if STORAGE_PROVIDER=s3)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=sparking-uploads

# ===========================================
# OPTIONAL - AI Pipeline
# ===========================================

AI_PIPELINE_ENABLED=true
AI_PIPELINE_DEVICE=CPU
AI_PIPELINE_CONFIDENCE_THRESHOLD=0.5

# MQTT (for AI pipeline communication)
MQTT_HOST=localhost
MQTT_PORT=1883
MQTT_TOPIC_PREFIX=sparking/detection

# ===========================================
# OPTIONAL - Logging & Monitoring
# ===========================================

LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# OPTIONAL - Rate Limiting
# ===========================================

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# OPTIONAL - Security
# ===========================================

# Cron job secret for scheduled tasks
CRON_SECRET=your-cron-secret

# Encryption key for sensitive data (camera credentials, etc.)
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your-encryption-key-min-32-chars

# ===========================================
# OPTIONAL - Analytics
# ===========================================

NEXT_PUBLIC_ANALYTICS_ID=

# ===========================================
# OPTIONAL - Microsoft Entra ID (Azure AD)
# ===========================================

# Azure AD Application (Client) ID
NEXT_PUBLIC_AZURE_AD_CLIENT_ID=

# Azure AD Tenant ID (use 'common' for multi-tenant)
NEXT_PUBLIC_AZURE_AD_TENANT_ID=common

# Redirect URI after Microsoft login
NEXT_PUBLIC_AZURE_AD_REDIRECT_URI=http://localhost:3000

# Auto-create users on first Microsoft login (true/false)
AZURE_AD_AUTO_CREATE_USERS=true

# Default role for auto-created users (SUPER_ADMIN, ADMIN, OPERATOR, AUDITOR, VIEWER)
AZURE_AD_DEFAULT_ROLE=ADMIN

# Default organization ID for auto-created users (optional, uses first org if not set)
# AZURE_AD_DEFAULT_ORGANIZATION_ID=
